# Codex / ChatGPT — строгие инструкции для работы с Market Decision Lab

Ты работаешь внутри репозитория **market-decision-lab** (Streamlit монорепо).

## Цель
Поддерживать **стабильно работающий Streamlit Cloud деплой** и развивать приложение без усложнений.

## Проверка перед любыми изменениями
1) Просмотри структуру репозитория и главную точку входа: `app/streamlit_app.py`.
2) Проверь `requirements.txt` (в корне) на полноту импортов.
3) Убедись, что пути к данным/SQLite корректны и стабильны.
4) Убедись, что код не зависит от локальных файлов, которых нет в репозитории.

## Правила реализации
- Исправляй проблемы **в коде**, а не советами.
- Если ошибка воспроизводима по логике/статике — исправляй сразу.
- Держи проект простым: минимум новых файлов и зависимостей.
- Streamlit Cloud first: всё должно работать после `git push`.

## Критерии готовности (Definition of Done)
- Приложение запускается без ошибок.
- Вкладки Quick/Compare/History работают.
- База SQLite создаётся в `data/app.db`.
- Нет хардкода секретов.
- Любая оптимизация не ломает существующий функционал.

## Формат ответа
1) Что проверил
2) Что не так (с точными файлами и строками)
3) Исправление (дифф или полный файл)
4) Итог: как запустить и что проверить
